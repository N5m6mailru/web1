<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>JS33</title>
        <!--<script src="./33.js"></script>-->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            h1{
                font-size:1.5em;
                color:blue;
            }
            input,button{
                min-width:72px;
                min-height:36px;
                border:1px solid grey;
            }
            label,input,button{
                display:block;
            }
            input{
                margin-bottom:1em;
            }
            table,th,td{
                border:1px solid black;
                text-align:center;
                width:500px;
                height:36px;
            }
        </style>
        
    </head>
    <body>
        <h1>Обобщенные сведения по учету трясогузок</h1>

        <table id="birdTable">
                <thead>
                    <tr>
                        <th align="center" rowspan="2">Квадрат</th>
                        <th align="center" rowspan="2">Bид трясогузок</th>
                        <th align="center">2020 год</th>     
                        <th align="center">2021 год</th>
                        <th align="center">Изменения 2021год/2020год</th> 
                    </tr>
                    <tr>
                        <th align="center">Количество особей</th>
                        <th align="center">Количество особей</th>
                        <th align="center">Количествo особей</th>
                    </tr>
                </thead>
                <tbody id="body_tableBirds"></tbody>
            
        </table>
        <script>
            "use strict";
            let arrayBirds_2020=[{"state":1,"birdName":"Белая трясогузка","population":89}, 
            {"state":1,"birdName":"Желтая трясогузка","population":10}, 
            {"state":1,"birdName":"Желтоголовая трясогузка","population":5}, 
            {"state":2,"birdName":"Белая трясогузка","population":76}, 
            {"state":2,"birdName":"Желтая трясогузка","population":8}, 
            {"state":2,"birdName":"Желтоголовая трясогузка","population":9}, 
            {"state":3,"birdName":"Белая трясогузка","population":132}, 
            {"state":3,"birdName":"Желтая трясогузка","population":12}, 
            {"state":3,"birdName":"Желтоголовая трясогузка","population":6},];
            let arrayBirds_2021=[{"state":1,"nameBird":"Белая трясогузка","population":99}, 
            {"state":1,"birdName":"Желтая трясогузка","population":9}, 
            {"state":1,"birdName":"Желтоголовая трясогузка","population":4}, 
            {"state":2,"birdName":"Белая трясогузка","population":96}, 
            {"state":2,"birdName":"Желтая трясогузка","population":7}, 
            {"state":2,"birdName":"Желтоголовая трясогузка","population":5}, 
            {"state":3,"birdName":"Белая трясогузка","population":145}, 
            {"state":3,"birdName":"Желтая трясогузка","population":6}, 
            {"state":3,"birdName":"Желтоголовая трясогузка","population":2},];
            
            
            
            showBirds();
                
             function showBirds() {
/*arrayTown.sort(compareTowns);
                arrayTown.reverse();
                document.getElementById("townTable").innerHTML="<tr>"+
                        "<th>Название</th>"+
                        "<th>Страна</th>"+
                        "<th>Население</th>"+
                        "</tr>"; */
                for ( let i = 0; i < arrayBirds_2020.length; i++) {
                    let bird_change = String(arrayBirds_2021[i].population - 
                        arrayBirds_2020[i].population);
            
                    //if (bird_change < 0) td[i][5].style.text-color("red");

                    let str="";
                    str+='<tr>';
                    str+='<td>'+arrayBirds_2020[i].state+'</td>';
                    str+="<td>"+arrayBirds_2020[i].birdName+"</td>";
                    str+="<td>"+arrayBirds_2020[i].population+"</td>";
                    str+="<td>"+arrayBirds_2021[i].population+"</td>";
                    str+="<td>"+bird_change+"</td>";
                    str+="</tr>";
                    document.getElementById("body_tableBirds").innerHTML+=str;
                }
              
                    let table1 = document.getElementById("body_tableBirds");
                    let rows = table1.querySelectorAll("tr");
                    for ( let i = 0; i < arrayBirds_2020.length; i++) {
                        let td1 = rows[i].children[4];
                        let td1_num = parseInt(td1.innerHTML);
                        if (td1_num < 0) td1.style.color = "red";
                    }

            
                    //if (number(td[i][5]) < 0) td[i][5].style.color("red");
            }
            
        </script>
        
    </body>
</html>
